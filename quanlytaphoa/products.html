<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Si√™u Th·ªã Mini - S·∫£n ph·∫©m</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <style>
        body {
            background-color: #ffffff;
            font-family: 'Segoe UI', sans-serif;
            /* Th√™m font ƒë·ªÉ ƒë·ªìng b·ªô */
            color: #000000;
            animation: fadeInUp 0.5s ease both;
        }

        .navbar {
            background-color: #2e7d32;
            /* m√†u xanh l√° */
        }

        .navbar-brand,
        .nav-link {
            color: #ffffff !important;
            font-weight: bold;
            /* Th√™m font-weight ƒë·ªÉ ƒë·ªìng b·ªô */
        }

        .nav-link.active {
            background-color: #1b5e20;
            /* m√†u xanh l√° ƒë·∫≠m h∆°n */
            border-radius: 5px;
            padding: 5px 10px;
        }

        .nav-link:hover {
            color: #a5d6a7 !important;
            /* xanh nh·∫°t khi hover */
        }

        .product img {
            border-radius: 10px;
            width: 100%;
            max-height: 200px;
            object-fit: contain;
            background-color: #f0f0f0;
            display: block;
            margin: 0 auto 10px auto;
            transition: transform 0.3s ease;
        }

        .product img:hover {
            transform: scale(1.05);
        }

        .product .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            /* B·ªè background-color: #f5f5f5; ·ªü ƒë√¢y ƒë·ªÉ d√πng bg-white c·ªßa Bootstrap */
            border: 1px solid #e0e0e0;
            color: #000000;
        }

        .product:hover .card {
            transform: translateY(-5px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .section-title {
            color: #2e7d32;
            margin-top: 30px;
            margin-bottom: 20px;
            font-weight: 600;
            /* Th√™m font-weight ƒë·ªÉ ƒë·ªìng b·ªô */
        }

        .btn-success {
            background-color: #2e7d32;
            border-color: #2e7d32;
            transition: background-color 0.3s ease, border-color 0.3s ease;
            /* Th√™m transition ƒë·ªÉ ƒë·ªìng b·ªô */
        }

        .btn-success:hover {
            background-color: #1b5e20;
            border-color: #1b5e20;
        }

        @keyframes fadeInUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="quanlytaphoa.html">üõí Si√™u Th·ªã Mini</a>
            <ul class="navbar-nav me-auto">
                <li class="nav-item"><a class="nav-link" href="quanlytaphoa.html">Trang ch·ªß</a></li>
                <li class="nav-item"><a class="nav-link active" href="products.html">S·∫£n ph·∫©m</a></li>
                <li class="nav-item"><a class="nav-link" href="#" id="cart-link">Gi·ªè h√†ng (0)</a></li>
                <li class="nav-item"><a class="nav-link" href="#" id="history-link">L·ªãch s·ª≠</a></li>
            </ul>
            <div class="d-flex align-items-center" id="user-area">
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="mb-4 mt-3 d-flex justify-content-between align-items-center flex-wrap gap-2">
            <input type="text" id="searchInput" class="form-control w-50" placeholder="üîç T√¨m ki·∫øm s·∫£n ph·∫©m...">
            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-outline-success btn-sm" id="prevPage">‚¨ÖÔ∏è</button>
                <span id="pageInfo" class="fw-bold"></span>
                <button class="btn btn-outline-success btn-sm" id="nextPage">‚û°Ô∏è</button>
            </div>
        </div>

        <h3 class="section-title">Danh s√°ch s·∫£n ph·∫©m</h3>
        <div class="row" id="product-list">
            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="s·ªØa.jpg" alt="S·ªØa t∆∞∆°i" />
                    <div class="card-body text-center">
                        <h5 class="card-title">S·ªØa t∆∞∆°i</h5>
                        <p class="card-text text-success">8.000ƒë</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="M√¨.jpg" alt="M√¨ t√¥m" />
                    <div class="card-body text-center">
                        <h5 class="card-title">M√¨ t√¥m</h5>
                        <p class="card-text text-success">4.000ƒë</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="GAO-ST25-5-1.jpg" alt="G·∫°o ST25" />
                    <div class="card-body text-center">
                        <h5 class="card-title">G·∫°o ST25</h5>
                        <p class="card-text text-success">25.000ƒë/kg</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="nuoc-mam-nam-ngu.webp" alt="N∆∞·ªõc m·∫Øm" />
                    <div class="card-body text-center">
                        <h5 class="card-title">N∆∞·ªõc m·∫Øm</h5>
                        <p class="card-text text-success">18.000ƒë</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>

            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="tra-xanh.jpg" alt="Tr√† xanh" />
                    <div class="card-body text-center">
                        <h5 class="card-title">Tr√† xanh</h5>
                        <p class="card-text text-success">7.000ƒë</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="bot-m√¨.jpg" alt="B·ªôt m√¨" />
                    <div class="card-body text-center">
                        <h5 class="card-title">B·ªôt m√¨</h5>
                        <p class="card-text text-success">20.000ƒë/kg</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="duong.jpg" alt="ƒê∆∞·ªùng" />
                    <div class="card-body text-center">
                        <h5 class="card-title">ƒê∆∞·ªùng</h5>
                        <p class="card-text text-success">18.000ƒë/kg</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="dau-an.jpg" alt="D·∫ßu ƒÉn" />
                    <div class="card-body text-center">
                        <h5 class="card-title">D·∫ßu ƒÉn</h5>
                        <p class="card-text text-success">30.000ƒë/l√≠t</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>

            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="bot-ngot.jpg" alt="B·ªôt ng·ªçt" />
                    <div class="card-body text-center">
                        <h5 class="card-title">B·ªôt ng·ªçt</h5>
                        <p class="card-text text-success">12.000ƒë/g√≥i</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>

            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="ruou.jpg" alt="R∆∞·ª£u" />
                    <div class="card-body text-center">
                        <h5 class="card-title">R∆∞·ª£u</h5>
                        <p class="card-text text-success">150.000ƒë/chai</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>

            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="banh-mi.jpg" alt="B√°nh m√¨" />
                    <div class="card-body text-center">
                        <h5 class="card-title">B√°nh m√¨</h5>
                        <p class="card-text text-success">5.000ƒë/c√°i</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>

            <div class="col-6 col-md-3 mb-4 product">
                <div class="card bg-white">
                    <img src="tra-sua.jpg" alt="Tr√† s·ªØa" />
                    <div class="card-body text-center">
                        <h5 class="card-title">Tr√† s·ªØa</h5>
                        <p class="card-text text-success">15.000ƒë</p>
                        <button class="btn btn-success btn-sm add-to-cart-btn">Th√™m v√†o gi·ªè</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="modal fade" id="cartModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Gi·ªè h√†ng</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
                </div>
                <div class="modal-body" id="cartItems"></div>
                <div class="modal-footer">
                    <button class="btn btn-success" id="checkout-btn">Thanh to√°n</button>
                    <button class="btn btn-secondary" data-bs-dismiss="modal">ƒê√≥ng</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="historyModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">L·ªãch s·ª≠ mua h√†ng</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
                </div>
                <div class="modal-body" id="historyItems"></div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">ƒê√≥ng</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <form class="modal-content" id="loginForm">
                <div class="modal-header">
                    <h5 class="modal-title">ƒêƒÉng nh·∫≠p</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="usernameInput" class="form-label">T√™n ƒëƒÉng nh·∫≠p</label>
                        <input type="text" class="form-control" id="usernameInput" required />
                    </div>
                    <div class="mb-3">
                        <label for="passwordInput" class="form-label">M·∫≠t kh·∫©u</label>
                        <input type="password" class="form-control" id="passwordInput" required />
                    </div>
                    <div id="loginError" class="text-danger"></div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-success">ƒêƒÉng nh·∫≠p</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const DEMO_USER = { username: "user1", password: "123456" };

        const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
        const cartModal = new bootstrap.Modal(document.getElementById('cartModal'));
        const historyModal = new bootstrap.Modal(document.getElementById('historyModal'));

        let cart = [];
        let history = [];

        function isLoggedIn() {
            return localStorage.getItem('loggedInUser') !== null;
        }

        function getLoggedInUser() {
            return localStorage.getItem('loggedInUser');
        }

        function saveCartToStorage() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function saveHistoryToStorage() {
            localStorage.setItem('history', JSON.stringify(history));
        }

        function updateUserArea() {
            const userArea = document.getElementById('user-area');
            userArea.innerHTML = '';

            if (isLoggedIn()) {
                const username = getLoggedInUser();
                const welcome = document.createElement('span');
                welcome.className = 'me-2 text-white';
                welcome.textContent = `Ch√†o ${username}`;

                const logoutBtn = document.createElement('button');
                logoutBtn.className = 'btn btn-light btn-sm';
                logoutBtn.textContent = 'ƒêƒÉng xu·∫•t';
                logoutBtn.addEventListener('click', () => {
                    localStorage.removeItem('loggedInUser');
                    cart = [];
                    history = [];
                    saveCartToStorage();
                    saveHistoryToStorage();
                    updateCartCount();
                    updateUserArea();
                    alert('B·∫°n ƒë√£ ƒëƒÉng xu·∫•t.');
                });

                userArea.appendChild(welcome);
                userArea.appendChild(logoutBtn);
            } else {
                const loginBtn = document.createElement('button');
                loginBtn.className = 'btn btn-light btn-sm';
                loginBtn.textContent = 'ƒêƒÉng nh·∫≠p';
                loginBtn.addEventListener('click', () => {
                    document.getElementById('loginError').textContent = '';
                    document.getElementById('loginForm').reset();
                    loginModal.show();
                });
                userArea.appendChild(loginBtn);
            }
        }

        function updateCartCount() {
            document.getElementById('cart-link').textContent = `Gi·ªè h√†ng (${cart.length})`;
        }

        function updateCartModal() {
            const container = document.getElementById('cartItems');
            if (cart.length === 0) {
                container.innerHTML = '<p>Gi·ªè h√†ng tr·ªëng.</p>';
            } else {
                let html = '<ul class="list-group">';
                cart.forEach((item, index) => {
                    html += `<li class="list-group-item d-flex justify-content-between align-items-center">
                    ${item.name} - ${item.price}
                    <button class="btn btn-sm btn-danger" onclick="removeFromCart(${index})">X√≥a</button>
                  </li>`;
                });
                html += '</ul>';
                container.innerHTML = html;
            }
        }

        function showCart() {
            if (!isLoggedIn()) {
                alert('B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ xem gi·ªè h√†ng.');
                loginModal.show();
                return;
            }
            updateCartModal();
            cartModal.show();
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartCount();
            updateCartModal();
            saveCartToStorage();
        }

        function checkout() {
            if (!isLoggedIn()) {
                alert('B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ thanh to√°n.');
                loginModal.show();
                return;
            }
            if (cart.length === 0) {
                alert('Gi·ªè h√†ng tr·ªëng!');
                return;
            }
            history.push([...cart]);
            cart = [];
            updateCartCount();
            updateCartModal();
            saveCartToStorage();
            saveHistoryToStorage();
            alert('Thanh to√°n th√†nh c√¥ng!');
            cartModal.hide();
        }

        function showHistory() {
            if (!isLoggedIn()) {
                alert('B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ xem l·ªãch s·ª≠ mua h√†ng.');
                loginModal.show();
                return;
            }
            const container = document.getElementById('historyItems');
            if (history.length === 0) {
                container.innerHTML = '<p>Ch∆∞a c√≥ ƒë∆°n h√†ng n√†o.</p>';
            } else {
                let html = '<ul class="list-group">';
                history.forEach((order, idx) => {
                    html += `<li class="list-group-item">ƒê∆°n h√†ng #${idx + 1}<ul>`;
                    order.forEach(item => {
                        html += `<li>${item.name} - ${item.price}</li>`;
                    });
                    html += '</ul></li>';
                });
                html += '</ul>';
                container.innerHTML = html;
            }
            historyModal.show();
        }

        function addToCart(name, price) {
            if (!isLoggedIn()) {
                alert('B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng.');
                loginModal.show();
                return;
            }
            cart.push({ name, price });
            saveCartToStorage();
            updateCartCount();
        }

        function setupAddToCartButtons() {
            const buttons = document.querySelectorAll('.add-to-cart-btn');
            buttons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const card = e.target.closest('.card');
                    const name = card.querySelector('.card-title').textContent;
                    const price = card.querySelector('.card-text').textContent;
                    addToCart(name, price);
                });
            });
        }

        // X·ª≠ l√Ω ƒëƒÉng nh·∫≠p
        document.getElementById('loginForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const username = document.getElementById('usernameInput').value.trim();
            const password = document.getElementById('passwordInput').value;

            if (username === DEMO_USER.username && password === DEMO_USER.password) {
                localStorage.setItem('loggedInUser', username);
                updateUserArea();
                loginModal.hide();
                alert('ƒêƒÉng nh·∫≠p th√†nh c√¥ng!');
            } else {
                document.getElementById('loginError').textContent = 'T√™n ƒëƒÉng nh·∫≠p ho·∫∑c m·∫≠t kh·∫©u kh√¥ng ƒë√∫ng.';
            }
        });

        // B·ªô l·ªçc t√¨m ki·∫øm + ph√¢n trang
        const productsPerPage = 8;
        let currentPage = 1;

        function renderPage() {
            const filter = document.getElementById('searchInput').value.toLowerCase();
            const allProducts = Array.from(document.querySelectorAll('.product'));
            // L·ªçc
            const filtered = allProducts.filter(prod => prod.querySelector('.card-title').textContent.toLowerCase().includes(filter));
            // ·∫®n h·∫øt
            allProducts.forEach(prod => prod.style.display = 'none');
            // Hi·ªán c√°c sp trang hi·ªán t·∫°i
            const start = (currentPage - 1) * productsPerPage;
            const end = start + productsPerPage;
            const pageProducts = filtered.slice(start, end);
            pageProducts.forEach(prod => prod.style.display = 'block');
            // Update info trang
            const pageCount = Math.ceil(filtered.length / productsPerPage);
            document.getElementById('pageInfo').textContent = `Trang ${currentPage} / ${pageCount || 1}`;
            // Disable n√∫t next/prev
            document.getElementById('prevPage').disabled = currentPage <= 1;
            document.getElementById('nextPage').disabled = currentPage >= pageCount;
        }

        document.getElementById('searchInput').addEventListener('input', () => {
            currentPage = 1;
            renderPage();
        });

        document.getElementById('prevPage').addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                renderPage();
            }
        });

        document.getElementById('nextPage').addEventListener('click', () => {
            currentPage++;
            renderPage();
        });

        // M·ªü modal gi·ªè h√†ng & l·ªãch s·ª≠ khi click
        document.getElementById('cart-link').addEventListener('click', (e) => {
            e.preventDefault();
            showCart();
        });

        document.getElementById('checkout-btn').addEventListener('click', checkout);

        document.getElementById('history-link').addEventListener('click', (e) => {
            e.preventDefault();
            showHistory();
        });

        // Load d·ªØ li·ªáu t·ª´ localStorage khi trang t·∫£i
        window.onload = () => {
            updateUserArea();

            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
            }

            const savedHistory = localStorage.getItem('history');
            if (savedHistory) {
                history = JSON.parse(savedHistory);
            }

            updateCartCount();
            setupAddToCartButtons();
            renderPage();
        };

        window.removeFromCart = removeFromCart;
    </script>
</body>

</html>
```